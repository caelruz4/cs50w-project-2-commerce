{% extends "auctions/layout.html" %}
{% block title %}{{ category }}{% endblock %}
{% block body %}

<section class="active-listings-main bg-blue-100">
    <h2 class="text-4xl font-bold dark:text-white">
        Results for: {{ category }}
    </h2>
    {% if listings %}
    <section class="flex items-center justify-center">
        <div class="active-listings py-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 items-center">
            {% for listing in listings %}
            <div class="max-w-sm bg-white border p-4 border-gray-900 rounded-none dark:bg-gray-800 dark:border-gray-700">
                <a href="#">
                    <img class=" w-full border border-gray-900 h-48 object-cover" src="{% if listing.image %}{{ listing.image.url }}{% endif %}" alt="" />
                </a>
                <div class="p-4 h-full"> 
                    <a href="#">
                        <h5 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">{{ listing.title }}</h5>
                    </a>
                    <div class="info mb-3">
                        <p class="text-sm text-gray-700 dark:text-gray-400">Created: {{ listing.created_at }}</p>
                       <a href="">
                        <!-- todo: direct to that category -->
                        <span class="bg-pink-100 text-pink-800 text-xs font-medium me-2 px-2.5 py-0.5 rounded-none dark:bg-gray-700 dark:text-pink-400 border border-pink-400">{{ listing.category }}</span>
    
                       </a>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <span class="text-xl font-bold text-gray-900 bg-yellow-200 px-3 border border-gray-900 dark:text-white">${{ listing.initial_price }}</span>
                        <!-- url to listing info -->
                        <a href="{% url 'listing' listing.id %}" class="inline-flex items-center px-2 py-2 text-sm font-medium text-center text-white bg-black rounded-none login-button border focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">
                            Read more
                            <svg class="rtl:rotate-180 w-3 h-3 ms-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 10">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5h12m0 0L9 1m4 4L9 9"/>
                            </svg>
                        </a>
                    </div>
    
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% else %}
    <header class="w-full h-full my-10 border border-gray-900">
        <section class="bg-white dark:bg-gray-900">
            <div class="py-8 px-4 mx-auto lg:py-16 lg:px-6">
                <div class="mx-auto max-w-screen-sm text-center">
                    <h1 class="mb-4 text-7xl tracking-tight font-extrabold lg:text-9xl text-primary-600 dark:text-primary-500">Oops</h1>
                    <p class="mb-4 text-3xl tracking-tight font-bold text-gray-900 md:text-4xl dark:text-white">No listings found.</p>
                    <p class="mb-4 text-lg font-light text-gray-500 dark:text-gray-400">
                        Sorry, we couldn't find any listings in that category.
                    </p>
                    <a href="{% url 'categories' %}" class="inline-flex text-white bg-black focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-none border-gray-900 register-button text-sm px-5 py-2.5 text-center dark:focus:ring-primary-900 my-4">Back to categories</a>
                </div>   
            </div>
        </section>
    </header>
    {% endif %}

</section>



{% endblock %}